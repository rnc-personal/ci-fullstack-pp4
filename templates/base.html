{% load static %}

<!DOCTYPE html>
<html class="h-100">

<head>
    <title>Baking Mama</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;500;600;900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/060af18027.js" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
    <script src="{% static 'js/main.js' %}"></script>

</head>

<body>
    <nav class="navbar navbar-expand-lg accent-dark navbar-dark shadow fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="{% static 'img/logo-web.png' %}" alt="Logo" class="logo-wrapper">
            </a>
            <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbar-content">
                <div class="hamburger-toggle">
                    <div class="hamburger">
                        <i class="fa-solid fa-bars"></i>
                    </div>
                </div>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbar-content">
                <ul class="navbar-nav mr-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/recipes">All Recipes</a>
                    </li>
                    <li class="nav-item">
                        {% if not user.is_authenticated %}
                        <a class="nav-link" aria-current="page" href="/accounts/login/">Login/Signup</a>
                        {% elif user.is_authenticated %}
                        <a class="nav-link" aria-current="page" href="/accounts/logout/">Logout</a>
                        {% endif %}
                    </li>
                    <li class="nav-item dropdown dropdown-mega position-static">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                            data-bs-auto-close="outside">Menu</a>
                        <div class="dropdown-menu shadow">
                            <div class="mega-content px-4">
                                <div class="container-fluid">
                                    <div class="row submenu-wrapper">
                                        <div class="col py-2 px-4">
                                            <h5>By Category</h5>
                                            <div class="list-unstyled mb-0">
                                                <div><a class="link-highlight"
                                                        href="/category/?category=bakery">Bakery</a></div>
                                                <div><a class="link-highlight"
                                                        href="/category/?category=drinks">Drinks</a></div>
                                                <div><a class="link-highlight"
                                                        href="/category/?category=fine-dining">Fine Dining</a></div>
                                                <div><a class="link-highlight"
                                                        href="/category/?category=health">Health</a></div>
                                                <div><a class="link-highlight"
                                                        href="/category/?category=snacks">Snacks</a></div>
                                            </div>
                                        </div>

                                        <div class="col py-2 px-4">
                                            <h5>By Time</h5>
                                            <div class="list-unstyled mb-0">
                                                <div><a class="link-highlight"
                                                        href="/time/?cooking_time_minutes_lt=30">Under 30 mins</a></div>
                                                <div><a class="link-highlight"
                                                        href="/time/?cooking_time_minutes_lt=60">Under 60 mins</a></div>
                                                <div><a class="link-highlight"
                                                        href="/time/?cooking_time_minutes_lt=90">Under 90 mins</a></div>
                                                <div><a class="link-highlight"
                                                        href="/time/?cooking_time_minutes_lt=120">Under 2 hours</a>
                                                </div>
                                                <div><a class="link-highlight"
                                                        href="/time/?cooking_time_minutes_lt=240">Under 4 hours</a>
                                                </div>
                                                <div><a class="link-highlight" href="/time/">Dont Mind</a></div>
                                            </div>
                                        </div>

                                        <div class="col py-2 px-4">
                                            <h5>By Score</h5>
                                            <div class="list-unstyled mb-0">
                                                <div><a class="link-highlight" href="/rating/?rating_lt=3">Rating Less
                                                        than 3</a></div>
                                                <div><a class="link-highlight" href="/rating/?rating_lt=5">Rating Less
                                                        than 5</a></div>
                                                <div><a class="link-highlight" href="/rating/?rating_lt=7">Rating Less
                                                        than 7</a></div>
                                                <div><a class="link-highlight" href="/rating/?rating_lt=9">Rating Less
                                                        than 9</a></div>
                                                <div><a class="link-highlight" href="/rating/?rating_=10">Rating Above
                                                        9</a></div>
                                            </div>
                                        </div>

                                        <div class="col py-2 px-4">
                                            <h5>By Difficulty</h5>
                                            <div class="list-unstyled mb-0">
                                                <div><a class="link-highlight" href="/difficulty/?difficulty=1">Easy</a>
                                                </div>
                                                <div><a class="link-highlight"
                                                        href="/difficulty/?difficulty=2">Intermediate</a></div>
                                                <div><a class="link-highlight"
                                                        href="/difficulty/?difficulty=3">Medium</a></div>
                                                <div><a class="link-highlight"
                                                        href="/difficulty/?difficulty=4">Expert</a></div>
                                                <div><a class="link-highlight" href="/difficulty/?difficulty=5">Pro</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="d-flex">
                    <div class="input-group">
                        <form method="GET" class="d-flex rounded-input" action="{% url 'search_results' %}">
                            <input type="text" name="q" placeholder="Search..." value="{{ request.GET.q }}"
                                class="form-control border-0 mr-2" />
                            <button type="submit" class="btn accent-light text-dark border-0"
                                style="margin-left: 10px;">Search</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container position-absolute">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                {% for message in messages %}
                <div class="alert {{ message.tags }} alert-dismissible fade show messages-fixed" id="msg" role="alert">
                    {{ message | safe }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <main class="flex-shrink-0 main-bg">

        {% block content %}
        <!-- Content Goes here -->
        {% endblock content %}
    </main>

    <!-- Footer-->
    <footer class="py-2 accent-dark w-100 bottom-0">
        <div class="container">
            <div class="d-flex justify-content-center align-items-end">
                <div class="character-link">
                    <a href="/recipes">
                        <div class="character-name">Recipes</div>
                    </a>
                </div>
                <div class="character-link">
                    <a href="/accounts/signup">
                        <div class="character-name">Signup</div>
                    </a>
                </div>
                <div class="character-link">
                    <a href="/accounts/login">
                        <div class="character-name">Login</div>
                    </a>
                </div>
                <div class="copyright-block">
                    <img src="{% static 'img/baking-mama-footer.png' %}" alt="Baking Mama Copyright 2023"
                        class="character-link-image">
                    <p class="text-white">Copyright Baking Mama 2023</p>
                </div>
            </div>
        </div>
    </footer>


    <script>
        setTimeout(function () {
            let messages = document.getElementById('msg');
            let alert = new bootstrap.Alert(messages);
            alert.close();
        }, 2500);
    </script>
</body>